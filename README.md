<h1 align="center">üõ∞Ô∏è–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –¥–ª—è –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö –∫–æ—Ä–∞–±–ª–µ–π</h1>

> **–ó–∞–¥–∞—á–∞:**
> –ï—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –¥–ª—è –∫–æ—Å–º–æ–ø–æ—Ä—Ç–æ–≤. –ï–≥–æ docker-–æ–±—Ä–∞–∑ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É: _hub.66bit.ru/shared/images/devops-practice:latest_. \
> –ù–∞ –ø–ª–∞–Ω–µ—Ç–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è 4 –∫–æ—Å–º–æ–ø–æ—Ä—Ç–∞. –£ –∫–∞–∂–¥–æ–≥–æ –∫–æ—Å–º–æ–ø–æ—Ä—Ç–∞ –µ—Å—Ç—å –∏–º—è, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è ASP_INSTANCE_NAME. \
> –ü–û –∫–æ—Å–º–æ–ø–æ—Ä—Ç–∞, –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –Ω–µ–º—É, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–≤–æ—ë –∏–º—è. –í–∞–º –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å docker-compose —Ñ–∞–π–ª, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ—Å–º–æ–ø–æ—Ä—Ç–æ–≤ –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä—Å–∫–∞—è —Å–ª—É–∂–±–∞ –≤ –≤–∏–¥–µ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏, –∫ –∫–æ—Ç–æ—Ä–æ–π –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫–æ—Å–º–∏—á–µ—Å–∫–∏–µ –∫–æ—Ä–∞–±–ª–∏ –ø—Ä–∏ –ø–æ—Å–∞–¥–∫–µ –Ω–∞ –ø–ª–∞–Ω–µ—Ç—É. –î–∏—Å–ø–µ—Ç—á–µ—Ä—Å–∫–∞—è —Å–ª—É–∂–±–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ –∫–æ—Å–º–æ–ø–æ—Ä—Ç—ã –∫–æ—Ä–∞–±–ª—è–º. –í –∫–∞—á–µ—Å—Ç–≤–µ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å nginx.

## ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

![deployment-diagram.drawio](https://github.com/Artemonkey/spacehubDevOps/blob/main/doc/deployment-diagram.drawio.png)

- **spaceport_alpha** ‚Äì –∫–æ—Å–º–æ–ø–æ—Ä—Ç —Å –º–µ—Ç–∫–æ–π `alpha`
- **spaceport_beta** ‚Äì –∫–æ—Å–º–æ–ø–æ—Ä—Ç —Å –º–µ—Ç–∫–æ–π `beta`
- **spaceport_gamma** ‚Äì –∫–æ—Å–º–æ–ø–æ—Ä—Ç —Å –º–µ—Ç–∫–æ–π `gamma`
- **spaceport_delta** ‚Äì –∫–æ—Å–º–æ–ø–æ—Ä—Ç —Å –º–µ—Ç–∫–æ–π `delta`
- **dispatcher** ‚Äì –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –Ω–∞ –±–∞–∑–µ `nginx`, –ø–æ–ª—É—á–∞—é—â–∏–π –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –∫–æ—Ä–∞–±–ª–µ–π —á–µ—Ä–µ–∑ `http://spacehub.local`

## üß™ –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

1. –ö–æ—Ä–∞–±–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å –Ω–∞ `http://spacehub.local/`
2. –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ `dispatcher` –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ –æ–¥–Ω–æ–º—É –∏–∑ —á–µ—Ç—ã—Ä—ë—Ö –∫–æ—Å–º–æ–ø–æ—Ä—Ç–æ–≤ –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É **round-robin**
3. –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –∫–æ—Å–º–æ–ø–æ—Ä—Ç–∞ –æ—Ç–≤–µ—á–∞–µ—Ç —Å–≤–æ–∏–º –∏–º–µ–Ω–µ–º, –∑–∞–¥–∞–Ω–Ω—ã–º —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `ASP_INSTANCE_NAME`

## üñ•Ô∏è –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ hosts —Ñ–∞–π–ª–∞ (–Ω–∞ —Ö–æ—Å—Ç-–º–∞—à–∏–Ω–µ)

```txt
# –¥–æ–±–∞–≤–ª—è–µ–º –≤ /etc/hosts –∏–ª–∏ C:\Windows\System32\drivers\etc\hosts —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞!
127.0.0.1 spacehub.local
```

## ‚úÖ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å?

–í–≤–µ–¥–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏:

```bash
docker compose up -d
```

–û–∂–∏–¥–∞–π—Ç–µ –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏:

```bash
[+] Running 5/5
 ‚úî Container spacehubdevops-spaceport_gamma-1  Started   0.4s
 ‚úî Container spacehubdevops-spaceport_beta-1   Started   0.4s
 ‚úî Container spacehubdevops-spaceport_alpha-1  Started   0.3s
 ‚úî Container spacehubdevops-spaceport_delta-1  Started   0.3s
 ‚úî Container spacehubdevops-dispatcher-1       Started   0.7s
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```txt
http://spacehub.local/
```

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

- –ö–æ—Å–º–æ–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- –î–∏—Å–ø–µ—Ç—á–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É
- –ö–æ—Ä–∞–±–ª–∏ –ø–æ–ª—É—á–∞—é—Ç —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –≤—Å–µ 4 –ø–æ—Ä—Ç–∞

```txt
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
alpha
beta
gamma
delta
alpha
...
```
